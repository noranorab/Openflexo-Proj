<?xml version="1.0" encoding="UTF-8" ?>
<!-- If you keep the XSD without a targetNamespace, use noNamespaceSchemaLocation -->
<CONFIGURATION>

	<!-- Where inputs are read / outputs are written -->
	<INPUTOUTPUTDIR name="." />

	<!-- Hardware/platform description -->
	<ARCHITECTURE>
		<TARGET NAME="MIPS" ENDIANNESS="BIG" DATAPATH="32" />
		<!-- Use small numbers to satisfy xs:byte (â‰¤ 127) -->
		<CACHE nbsets="64" nbways="4" cachelinesize="32"
			replacement_policy="LRU" type="icache" level="1" latency="1" />
		<MEMORY load_latency="50" store_latency="50" />
	</ARCHITECTURE>

	<!-- Sequence of analyses to run -->
	<ANALYSIS>
		<ENTRYPOINT keepresults="yes" input_file="cfg.xml"
			output_file="entrypoint.out" entrypointname="main" />

		<!-- I-cache analysis (level 1) -->
		<ICACHE keepresults="yes" input_file="cfg.xml"
			output_file="icache_L1.out" level="1" must="on" may="on"
			persistence="off" />

		<!-- Needed before D-cache analysis -->
		<DATAADDRESS keepresults="yes" input_file="icache_L1.out"
			output_file="dataaddr.out" sp="0x7ffff000" />

		<!-- D-cache analysis (level 1) -->
		<DCACHE keepresults="yes" input_file="dataaddr.out"
			output_file="dcache_L1.out" level="1" must="on" may="on"
			persistence="off" />

		<!-- Pipeline analysis -->
		<PIPELINE keepresults="yes" input_file="dcache_L1.out"
			output_file="pipeline.out" />

		<!-- Final WCET computation -->
		<IPET keepresults="yes" input_file="pipeline.out"
			output_file="wcet.out" solver="lp_solve" pipeline="pipeline.out"
			attach_WCET_info="true" generate_node_freq="true" />

		<!-- Optional/diagnostic passes -->
		<SESEANALYSIS keepresults="no" input_file="pipeline.out"
			output_file="sese.out" />
		<CACHESTATISTICS keepresults="yes"
			input_file="wcet.out" output_file="cachestats.out" />
		<SIMPLEPRINT keepresults="no" input_file="cfg.xml"
			output_file="cfg.txt" printcallgraph="true" printloopnest="true"
			printcfg="true" printWCETinfo="true" />
		<DOTPRINT keepresults="no" input_file="cfg.xml"
			output_file="cfg.dot" detailed_BB="false" />
		<CODELINE keepresults="no" input_file="wcet.out"
			output_file="codeline.out" binaryfile="a.out"
			addr2lineCommand="mips-addr2line" />
		<HTMLPRINT keepresults="no" input_file="codeline.out"
			output_file="codeline.html" colorize="true"
			html_file="/abs/path/to/report.html" />
	</ANALYSIS>

</CONFIGURATION>
